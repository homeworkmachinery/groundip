import{V as b}from"./index-BcFhOSVY.js";import{d as D,i as c,c as t,b as o,j as u,t as E,e as g,k as x,o as n}from"./index-BiZWj2oT.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";const P="/groundip/jp/%E6%97%A5%E6%9C%AC%E5%95%86%E6%A0%87%E6%B5%81%E7%A8%8B.jpg",y={class:"price-page"},V={key:0,class:"doc-preview-modal"},F={class:"modal-content"},N={class:"modal-header"},B={class:"modal-body"},W={key:0,class:"docx-container"},A={class:"docx-wrapper"},L={key:1,class:"pdf-container"},j=["src"],I={key:2,class:"unsupported-file"},R={style:{"text-align":"center",padding:"50px"}},O=["href"],S={class:"modal-footer"},T=D({__name:"PriceView",setup(U){const a=c(!1),e=c(""),l=c(""),d=()=>{a.value=!1,e.value="",l.value=""},_=s=>s.split("/").pop()||"文档",p=s=>s.toLowerCase().endsWith(".docx"),i=s=>s.toLowerCase().endsWith(".pdf"),v=()=>{console.log("Word文档渲染完成")},f=s=>{console.error("Word文档渲染错误:",s),alert("Word文档加载失败，请检查文件路径")},m=()=>{console.log("PDF加载完成")},h=()=>{console.error("PDF加载失败"),alert("PDF文件加载失败，请检查文件路径")},w=()=>{e.value&&window.open(e.value,"_blank")},k=()=>{if(!e.value)return;const s=document.createElement("a");s.href=e.value,s.download=_(e.value),s.click()};return(s,r)=>(n(),t("div",y,[r[1]||(r[1]=o("img",{src:P,width:"800px"},null,-1)),a.value?(n(),t("div",V,[o("div",F,[o("div",N,[o("h3",null,E(l.value),1),o("button",{class:"close-btn",onClick:d},"×")]),o("div",B,[p(e.value)?(n(),t("div",W,[o("div",A,[g(x(b),{src:e.value,onRendered:v,onError:f},null,8,["src"])])])):i(e.value)?(n(),t("div",L,[o("iframe",{src:e.value,style:{width:"100%",height:"100%",border:"none"},onLoad:m,onError:h},null,40,j)])):(n(),t("div",I,[o("div",R,[r[0]||(r[0]=o("p",null,"不支持在线预览的文件格式",-1)),o("a",{href:e.value,download:"",class:"download-btn"},"下载文件",8,O)])]))]),o("div",S,[i(e.value)?(n(),t("button",{key:0,class:"new-tab-btn",onClick:w}," 新标签页打开 ")):u("",!0),o("button",{class:"download-btn",onClick:k}," 下载文档 ")])]),o("div",{class:"modal-backdrop",onClick:d})])):u("",!0)]))}}),H=C(T,[["__scopeId","data-v-a185e8a1"]]);export{H as default};
